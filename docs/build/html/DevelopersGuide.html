

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Developers Guide &mdash; Nubomedia-VTT-AR 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Nubomedia-VTT-AR 1.0 documentation" href="index.html"/>
        <link rel="next" title="Installation Guide" href="InstallationGuide.html"/>
        <link rel="prev" title="Readme" href="README.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Nubomedia-VTT-AR
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Readme</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Developers Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#kurento-client-interface">Kurento Client Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#developing-source-code">Developing Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-pad-interface">Data Pad Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-pad-interface-demos">Data Pad Interface Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-channel-demo">Data Channel Demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="InstallationGuide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="License.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Nubomedia-VTT-AR</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Developers Guide</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/DevelopersGuide.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="developers-guide">
<h1>Developers Guide<a class="headerlink" href="#developers-guide" title="Permalink to this headline">¶</a></h1>
<p>This documents provides information how to develope the MultisensoryDataModule (MsData).</p>
<p>Clone repository:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>sudo apt-get install git
git clone https://github.com/nubomedia-vtt/msdata.git
</pre></div>
</div>
<p>Create a folder to build the MsData</p>
<div class="code bash highlight-python"><div class="highlight"><pre>mkdir build
cd build
</pre></div>
</div>
<div class="section" id="kurento-client-interface">
<h2>Kurento Client Interface<a class="headerlink" href="#kurento-client-interface" title="Permalink to this headline">¶</a></h2>
<p>Now you have an option to generate either Java or JavaScript interface
for the Kurento Client (or naturally both if you need)</p>
<p>Java version</p>
<div class="code bash highlight-python"><div class="highlight"><pre>cmake .. -DGENERATE_JAVA_CLIENT_PROJECT=TRUE
</pre></div>
</div>
<p>JavaScript version</p>
<div class="code bash highlight-python"><div class="highlight"><pre>cmake .. -DGENERATE_JS_CLIENT_PROJECT=TRUE
</pre></div>
</div>
</div>
<div class="section" id="developing-source-code">
<h2>Developing Source Code<a class="headerlink" href="#developing-source-code" title="Permalink to this headline">¶</a></h2>
<p>To use the compiled results in Kurento just set into:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>/etc/default/kurento-media-server-6.0
</pre></div>
</div>
<p>for example:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>NAME=$(logname)
export KURENTO_MODULES_PATH=$KURENTO_MODULES_PATH:/home/$NAME/nubomedia/msdata/build
export GST_PLUGIN_PATH=$GST_PLUGIN_PATH:/home/$NAME/nubomedia/msdata/builds
</pre></div>
</div>
</div>
<div class="section" id="data-pad-interface">
<h2>Data Pad Interface<a class="headerlink" href="#data-pad-interface" title="Permalink to this headline">¶</a></h2>
<p>MsData utilizes predefined key with key dependent variable arguments this is implemented with gst_structure_new:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>gst_structure_new ()
GstStructure *
gst_structure_new (const gchar *name,
         const gchar *firstfield,
</pre></div>
</div>
<p>This creates a new GstStructure with the given name. Parses the list of variable arguments and sets fields to the values listed. Variable arguments should be passed as field name, field type, and value. Last variable argument should be NULL.</p>
<p>Both MsData and the filter that utilized MsData through data pads must naturally agree on the data that is delivered  but flexible interface between modules is enabled. As a consequence functionality of the MsData can be increased without affecting the MsData interface.</p>
</div>
<div class="section" id="data-pad-interface-demos">
<h2>Data Pad Interface Demos<a class="headerlink" href="#data-pad-interface-demos" title="Permalink to this headline">¶</a></h2>
<p>As an example about utilization of MsData interface
<a class="reference external" href="https://github.com/nubomedia-vtt/msdatademopaasheartrate.git">a heart rate demo</a> and
<a class="reference external" href="https://github.com/nubomedia-vtt/msdatademopaasgraph.git">a graph demo</a>
are provided.</p>
<p>The heart rate demo tells with the
key 123 that MsData should visualize overlay image with data into window of width and height size so that the window is located into x and y coordinate:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>GstStructure *result = gst_structure_new (&quot;msdata&quot;,
&quot;key&quot;, G_TYPE_UINT, (guint) (123),
&quot;x&quot;, G_TYPE_UINT, (guint) (r-&gt;x * resize_factor),
&quot;y&quot;, G_TYPE_UINT, (guint) (r-&gt;y * resize_factor),
&quot;width&quot;, G_TYPE_UINT, (guint) (r-&gt;width * resize_factor),
&quot;height&quot;, G_TYPE_UINT, (guint) (r-&gt;height * resize_factor),
&quot;data&quot;, G_TYPE_UINT, (guint) (getMillisecondsTime()),
&quot;overlay&quot;, G_TYPE_STRING, overlay.c_str(), NULL);
</pre></div>
</div>
<p>The graph demo utilizes similar data structure but tells with the key 456 instead that graph should be drawn.</p>
</div>
<div class="section" id="data-channel-demo">
<h2>Data Channel Demo<a class="headerlink" href="#data-channel-demo" title="Permalink to this headline">¶</a></h2>
<p>As an example about utilization of MsData with data channel
<a class="reference external" href="https://github.com/nubomedia-vtt/msdatademopaastemperature.git">a temperature demo</a> which sends random temperature is provided.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="InstallationGuide.html" class="btn btn-neutral float-right" title="Installation Guide" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="README.html" class="btn btn-neutral" title="Readme" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Markus Ylikerälä.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>